<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>êµ¬ì¡°ë™ë¬¼</title>
    <link rel="stylesheet" href="/main/css/main-style.css"> <!-- ë©”ì¸ ìŠ¤íƒ€ì¼ ì—°ê²° -->
    <script src="/main/js/main.js"></script> <!-- ë©”ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—°ê²° -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=keyboard_arrow_down" />
    <link rel="stylesheet" href="/sidemenu/animals/css/animals-insert-style.css">
</head>
<body>
<header>
    <div class="side-menu-bar">
        <ul>
            <li><a href="/main">ğŸ¶PetHarmonyğŸ¶</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/schedule')">ê·¼íƒœê´€ë¦¬</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/messenger')">ë©”ì‹ ì €(ì±„íŒ…)</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/mail')">ì´ë©”ì¼</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/adoption')">ì…ì–‘</a></li>
            <li class="animal-menu">
                <div class="menu-wrapper">
                    <a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/animals')">ë™ë¬¼
                        <span class="material-symbols-outlined">keyboard_arrow_down</span>
                    </a>
                </div>
                <ul class="sub-menu">
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/animals')">êµ¬ì¡°ë™ë¬¼</a></li>
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/adoptionComplete')">ì…ì–‘ì™„ë£Œ</a></li>
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/stock')">ì¬ê³ ê´€ë¦¬</a></li>
                </ul>
            </li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/facilities')">ì‹œì„¤ê´€ë¦¬</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/board')">ì „ì‚¬ê²Œì‹œíŒ</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/employee')">ì§ì›ì •ë³´</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/mypage')">ë§ˆì´í˜ì´ì§€</a></li>
            <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/approval')">ê²°ì¬</a></li>
            <li class="admin-menu">
                <div class="admin-menu-wrapper">
                    <a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/manager')">ê´€ë¦¬ìì „ìš©
                        <span class="material-symbols-outlined">keyboard_arrow_down</span>
                    </a>
                </div>
                <ul class="sub-menu">
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/manager')">ê´€ë¦¬ìí˜ì´ì§€</a></li>
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/employeeRegister')">ì‚¬ì›ë“±ë¡</a></li>
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/employeeManagement')">ì§ì›ê´€ë¦¬</a></li>
                    <li><a href="javascript:void(0);" onclick="loadContent('http://localhost:9595/sidemenu/approvalBox')">ê²°ì¬í•¨</a></li>
                </ul>
            </li>
        </ul>
    </div>
</header>
<div class="change-screen-stock">
    <div id="change-screen-content">
<!--        <form action="/sidemenu/animals/insert" class="insert" method="post" >-->
        <form th:action="@{/sidemenu/animals/insert}" th:object="${animalsDTO}" class="insert" method="post" enctype="multipart/form-data">
        <!-- í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ -->
        <div class="animal-container">
            <div class="animal-pic" id="animalPic">
                <img id="animalPreview"
                     th:src="${animalImage != null and animalImage != '' ? '/animalimages/' + animalImage : '/animalimages/default-image.jpg'}"
                     alt="Animal Picture"
                     style="display: block;">
            </div>
                <input type="file" name="image" accept="image/*" onchange="previewImage(event)">
        </div><br>

            <div class="input-group">
                <label>ë™ë¬¼ë“±ë¡ë²ˆí˜¸ :</label>
                
                <input type="text" name="animalCode" th:value="${animalCode}">
            </div>

            <div class="input-group">
            <label>ë¶„ë¥˜ :</label>
                <select name="typeCode">
                    <option value="C1">ê³ ì–‘ì´</option>
                    <option value="D1">ê°œ</option>
                </select>
            </div><br>

            <div class="input-group">
                <label for="rescueDate">êµ¬ì¡° ëœ ë‚ ì§œ :</label>
                <input type="date" id="rescueDate" name="rescueDate" required>
            </div>

            <div class="input-group">
                <label>êµ¬ì¡° ëœ ìœ„ì¹˜ :</label>
                <input type="text" name="rescueLocation">
            </div>

            <div class="input-group">
                <label>í’ˆì¢… :</label>
                <select name="breedCode" id="breedCode"></select>
            </div>

            <div class="input-group">
                <label>ë‚˜ì´ :</label>
                <input type="text" name="age">
            </div>

            <div class="radio-group">
                <label>ì„±ë³„ :</label>
                <label><input type="radio" name="gender" value="M"> M</label>
                <label><input type="radio" name="gender" value="F"> F</label>
            </div>

            <div class="radio-group">
                <label>ìƒíƒœ :</label>
                <label><input type="radio" name="animalStatus" value="ê³µê³ ì¤‘"> ê³µê³ ì¤‘</label>
                <label><input type="radio" name="animalStatus" value="ë³´í˜¸ì¤‘"> ë³´í˜¸ì¤‘</label>
                <label><input type="radio" name="animalStatus" value="ìì—°ì‚¬"> ìì—°ì‚¬</label>
                <label><input type="radio" name="animalStatus" value="ì•ˆë½ì‚¬"> ì•ˆë½ì‚¬</label>
                <label><input type="radio" name="animalStatus" value="ë°˜í™˜"> ë°˜í™˜</label>
            </div>

            <div class="input-group">
                <label>ë‹´ë‹¹ì :</label>
                <select name="empCode">
                    <option value="003">í™©ì •ë§Œ</option>
                    <option value="004">ì†¡í•´êµ</option>
                    <option value="005">ì •ìœ ì„±</option>
                    <option value="006">ë§ˆë™ì‹</option>
                    <option value="007">ê¹€ìœ¤ì‹</option>
                </select>
            </div>

            <button type="submit">ë™ë¬¼ë“±ë¡í•˜ê¸°</button>

        </form>

                <script>
                    fetch("/sidemenu/animals/breed").then(res => res.json()).then(date => {

                        console.log(date)
                        const $breedCode = document.getElementById("breedCode");
                        for(let index in date){
                            const $option = document.createElement("option")
                            $option.value = date[index].breedCode;
                            $option.textContent = date[index].breedName;
                            $breedCode.appendChild($option)
                        }

                    })

                    function previewImage(event) {
                        const file = event.target.files[0];
                        const reader = new FileReader();

                        reader.onload = function(e) {
                            const animalPic = document.getElementById('animalPreview');
                            animalPic.src = e.target.result;
                        }

                        if (file) {
                            reader.readAsDataURL(file);
                        }
                    }
                </script>

    </div>
</div>
</body>
</html>
